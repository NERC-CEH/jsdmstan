<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create prior object for jsdmstan models and data simulation — jsdm_prior • jsdmstan</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Montserrat-0.4.9/font.css" rel="stylesheet"><link href="../deps/Roboto_Mono-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create prior object for jsdmstan models and data simulation — jsdm_prior"><meta name="description" content="This function creates all of the potential priors used within a
jsdmstan model and can be used as the input to all stan_jsdm()
family of functions and the jsdm_sim_data() functions."><meta property="og:description" content="This function creates all of the potential priors used within a
jsdmstan model and can be used as the input to all stan_jsdm()
family of functions and the jsdm_sim_data() functions."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">jsdmstan</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/jsdmstan.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create prior object for jsdmstan models and data simulation</h1>

      <div class="d-none name"><code>jsdm_prior.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function creates all of the potential priors used within a
<code>jsdmstan</code> model and can be used as the input to all <code><a href="stan_jsdm.html">stan_jsdm()</a></code>
family of functions and the <code><a href="jsdm_sim_data.html">jsdm_sim_data()</a></code> functions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">jsdm_prior</span><span class="op">(</span></span>
<span>  sigmas_preds <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  z_preds <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  cor_preds <span class="op">=</span> <span class="st">"lkj_corr(1)"</span>,</span>
<span>  betas <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  a <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  a_bar <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  sigma_a <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  sigmas_species <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  z_species <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  cor_species <span class="op">=</span> <span class="st">"lkj_corr(1)"</span>,</span>
<span>  cor_species_chol <span class="op">=</span> <span class="st">"lkj_corr_cholesky(1)"</span>,</span>
<span>  LV <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  L <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  sigma_L <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  sigma <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  kappa <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  zi <span class="op">=</span> <span class="st">"beta(1,1)"</span>,</span>
<span>  zi_betas <span class="op">=</span> <span class="st">"normal(0,1)"</span>,</span>
<span>  shp_betas <span class="op">=</span> <span class="st">"normal(0,1)"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'jsdmprior'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sigmas-preds">sigmas_preds<a class="anchor" aria-label="anchor" href="#arg-sigmas-preds"></a></dt>
<dd><p>The standard deviation of the covariate effects,
constrained to be positive (default standard normal)</p></dd>


<dt id="arg-z-preds">z_preds<a class="anchor" aria-label="anchor" href="#arg-z-preds"></a></dt>
<dd><p>The covariate effects (default standard normal)</p></dd>


<dt id="arg-cor-preds">cor_preds<a class="anchor" aria-label="anchor" href="#arg-cor-preds"></a></dt>
<dd><p>The correlation matrix on the covariate effects (npred by
npred correlation matrix) (default <code>"lkj_corr(1)"</code>)</p></dd>


<dt id="arg-betas">betas<a class="anchor" aria-label="anchor" href="#arg-betas"></a></dt>
<dd><p>If covariate effects are unstructured, the prior on the
covariate effects</p></dd>


<dt id="arg-a">a<a class="anchor" aria-label="anchor" href="#arg-a"></a></dt>
<dd><p>The site level intercepts (default standard normal)</p></dd>


<dt id="arg-a-bar">a_bar<a class="anchor" aria-label="anchor" href="#arg-a-bar"></a></dt>
<dd><p>The mean site level intercept</p></dd>


<dt id="arg-sigma-a">sigma_a<a class="anchor" aria-label="anchor" href="#arg-sigma-a"></a></dt>
<dd><p>The standard deviation of the site level intercepts,
constrained to be positive and default prior is half standard normal</p></dd>


<dt id="arg-sigmas-species">sigmas_species<a class="anchor" aria-label="anchor" href="#arg-sigmas-species"></a></dt>
<dd><p>For MGLMM method, the standard deviations of the
species covariances, constrained to be positive (default half standard
normal)</p></dd>


<dt id="arg-z-species">z_species<a class="anchor" aria-label="anchor" href="#arg-z-species"></a></dt>
<dd><p>For MGLMM method, the S by N matrix of species covariance by
site (default standard normal)</p></dd>


<dt id="arg-cor-species">cor_species<a class="anchor" aria-label="anchor" href="#arg-cor-species"></a></dt>
<dd><p>For MGLMM method (data simulation only), the correlation
between species as the nspecies by nspecies correlation matrix (default
<code>"lkj_corr(1)"</code>)</p></dd>


<dt id="arg-cor-species-chol">cor_species_chol<a class="anchor" aria-label="anchor" href="#arg-cor-species-chol"></a></dt>
<dd><p>For MGLMM method (model fit only), the correlation
between species represented as a Cholesky decomposition of the nspecies by
nspecies correlation matrix (default <code>"lkj_corr_cholesky(1)"</code>). Note
that lkj_corr_cholesky(eta) is the cholesky decomposition of lkj_corr(eta)</p></dd>


<dt id="arg-lv">LV<a class="anchor" aria-label="anchor" href="#arg-lv"></a></dt>
<dd><p>For GLLVM method, the per site latent variable loadings (default
standard normal)</p></dd>


<dt id="arg-l">L<a class="anchor" aria-label="anchor" href="#arg-l"></a></dt>
<dd><p>For GLLVM method, the non-zero species latent variable loadings
(default standard normal)</p></dd>


<dt id="arg-sigma-l">sigma_L<a class="anchor" aria-label="anchor" href="#arg-sigma-l"></a></dt>
<dd><p>For GLLVM method, the variance of the species loadings,
constrained to be positive (default standard normal)</p></dd>


<dt id="arg-sigma">sigma<a class="anchor" aria-label="anchor" href="#arg-sigma"></a></dt>
<dd><p>For Gaussian response, the standard deviation parameter.
Constrained to be positive (default standard normal)</p></dd>


<dt id="arg-kappa">kappa<a class="anchor" aria-label="anchor" href="#arg-kappa"></a></dt>
<dd><p>For negative binomial response, the negative binomial variance
parameter. Constrained to be positive (default standard normal)</p></dd>


<dt id="arg-zi">zi<a class="anchor" aria-label="anchor" href="#arg-zi"></a></dt>
<dd><p>For zero-inflated poisson or negative binomial with no
environmental covariate effects upon the zero-inflation, the proportion of
inflated zeros (default beta distribution with both alpha and beta
parameters set to 1).</p></dd>


<dt id="arg-zi-betas">zi_betas<a class="anchor" aria-label="anchor" href="#arg-zi-betas"></a></dt>
<dd><p>For zero-inflated poisson or negative binomial with
environmental effects upon the zero-inflation, the covariate effects on the
zero-inflation on the logit scale</p></dd>


<dt id="arg-shp-betas">shp_betas<a class="anchor" aria-label="anchor" href="#arg-shp-betas"></a></dt>
<dd><p>For gaussian or negative binomial with environmental effects
upon the family parameter (i.e. sigma or kappa), the covariate effects on
the family parameter on the log scale</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Object of class <code>jsdmprior</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Currently unused</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An object of class <code>"jsdmprior"</code> taking the form of a named list</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Each prior has to be specified as a character string corresponding to the
appropriate stan command. The most common versions of these are supported by
the simulated data functions, however there are functions that can be fed to
the stan fitting procedure that will not be able to be used as input for
<code><a href="jsdm_sim_data.html">jsdm_sim_data()</a></code>. Parameters <code>sigmas_preds</code>, <code>sigma_a</code>,
<code>sigmas_species</code>, <code>sigma_L</code>, <code>sigma</code>, and <code>kappa</code> are
fixed to be positive only in the stan code and this cannot be changed.
Parameters <code>cor_preds</code> and <code>cor_species</code> are assumed to be the
Cholesky factor of a correlation matrix. All other parameters are real
numbers. For all parameters that represent vectors or matrices the prior has
to be the same across the entire vector or matrix (note that for the species
latent variable loadings in a GLLVM model the prior is set on the non-zero
matrix components <code>L</code> and not on the entire matrix).</p>
<p>Prior distributions supported by <code><a href="jsdm_sim_data.html">jsdm_sim_data()</a></code> are <code>"normal(mean,
sd)"</code>, <code>"student_t(df, mu, sigma)"</code>, <code>"cauchy(location, scale)"</code>,
<code>"gamma(shape, scale)"</code>, <code>"inv_gamma(shape, scale)"</code> and
<code>"lkj_corr_cholesky(eta)"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>print(jsdmprior)</code>: Print method for object of class <code>jsdmprior</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="sim_helpers.html">sim_helpers</a> for a description of the parameterisations used within
the data simulation functions</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu">jsdm_prior</span><span class="op">(</span>kappa <span class="op">=</span> <span class="st">"gamma(0.01,0.01)"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Parameter             Group      Constraint                Prior</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1      sigmas_preds covariate_effects         lower=0          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2           z_preds covariate_effects            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3         cor_preds covariate_effects            none          lkj_corr(1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4             betas covariate_effects            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 a    site_intercept            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6             a_bar    site_intercept            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7           sigma_a    site_intercept         lower=0          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8    sigmas_species             mglmm         lower=0          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9         z_species             mglmm            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10      cor_species             mglmm            none          lkj_corr(1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 cor_species_chol             mglmm            none lkj_corr_cholesky(1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12               LV             gllvm            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                L             gllvm            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14          sigma_L             gllvm         lower=0          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15            sigma          gaussian         lower=0          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16            kappa      neg_binomial         lower=0     gamma(0.01,0.01)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17               zi    zero_inflation lower=0,upper=1            beta(1,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18         zi_betas    zero_inflation            none          normal(0,1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19        shp_betas            family            none          normal(0,1)</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Fiona Seaton.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

